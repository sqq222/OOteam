{% load static %}
{% load admin_filter %}

<!DOCTYPE html>
<!--
Template Name: Metronic - Responsive Admin Dashboard Template build with Twitter Bootstrap 3.3.6
Version: 4.5.3
Author: KeenThemes
Website: http://www.keenthemes.com/
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Like: www.facebook.com/keenthemes
Purchase: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
    <!--<![endif]-->
    <!-- BEGIN HEAD -->

    <head>
        <meta charset="utf-8" />
        <title>星球科学家 | 用户数据 - 新增玩家</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta content="width=device-width, initial-scale=1" name="viewport" />
        <meta content="" name="description" />
        <meta content="" name="author" />
        <!-- BEGIN GLOBAL MANDATORY STYLES -->
        <link href="{% static 'admin/css/font.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'admin/css/font-awesome.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'admin/css/simple-line-icons.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'admin/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'admin/css/uniform.default.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'admin/css/bootstrap-switch.min.css' %}" rel="stylesheet" type="text/css" />
        <!-- END GLOBAL MANDATORY STYLES -->
        <!-- BEGIN PAGE LEVEL PLUGINS -->
        <link href="{% static 'admin/css/daterangepicker.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'admin/css/morris.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'admin/css/fullcalendar.min.css' %}" rel="stylesheet" type="text/css" />
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN THEME GLOBAL STYLES -->
        <link href="{% static 'admin/css/components-md.min.css' %}" rel="stylesheet" id="style_components" type="text/css" />
        <link href="{% static 'admin/css/plugins-md.min.css' %}" rel="stylesheet" type="text/css" />
        <!-- END THEME GLOBAL STYLES -->
        <!-- BEGIN THEME LAYOUT STYLES -->
        <link href="{% static 'admin/css/layout.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'admin/css/darkblue.min.css' %}" rel="stylesheet" type="text/css" id="style_color" />
        <link href="{% static 'admin/css/custom.min.css' %}" rel="stylesheet" type="text/css" />
        <!-- END THEME LAYOUT STYLES -->
        <link rel="shortcut icon" href="favicon.ico" /> </head>
    <!-- END HEAD -->

    <body class="page-header-fixed page-sidebar-closed-hide-logo page-content-white page-md">
        <!-- BEGIN HEADER -->
        <div class="page-header navbar navbar-fixed-top">
            <!-- BEGIN HEADER INNER -->
            <div class="page-header-inner ">
                <!-- BEGIN LOGO -->
                <div class="page-logo">
                    <a href="index.html">
                        {# <img src="{% static 'admin/img/logo.png' %}" alt="logo" class="logo-default" />  #}</a>
                    <div class="menu-toggler sidebar-toggler"> </div>
                </div>
                <!-- END LOGO -->
                <!-- BEGIN RESPONSIVE MENU TOGGLER -->
                <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse" data-target=".navbar-collapse"> </a>
                <!-- END RESPONSIVE MENU TOGGLER -->
                <!-- BEGIN TOP NAVIGATION MENU -->
                <div class="top-menu">
                    <ul class="nav navbar-nav pull-right">
                        <!-- BEGIN NOTIFICATION DROPDOWN -->
                        <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->

                        <!-- END NOTIFICATION DROPDOWN -->
                        <!-- BEGIN INBOX DROPDOWN -->
                        <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->

                        <!-- END INBOX DROPDOWN -->
                        <!-- BEGIN TODO DROPDOWN -->
                        <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->

                        <!-- END TODO DROPDOWN -->
                        <!-- BEGIN USER LOGIN DROPDOWN -->
                        <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
                        <li class="dropdown dropdown-user">
                            <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                                <span class="username username-hide-on-mobile"> {{ request.user.get_full_name }} </span>
                                <i class="fa fa-angle-down"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-default">
                                <li>
                                    <a href="page_user_profile_1.html">
                                        <i class="icon-user"></i> 我的资料 </a>
                                </li>
                                <li class="divider"> </li>
                                <li>
                                    <a href="/admin/lock/">
                                        <i class="icon-lock"></i> 锁屏 </a>
                                </li>
                                <li>
                                    <a  data-toggle="modal" data-target="#myModal">
                                        <i class="icon-key"></i> 注销 </a>
                                </li>
                            </ul>
                        </li>
                        <!-- END USER LOGIN DROPDOWN -->
                        <!-- BEGIN QUICK SIDEBAR TOGGLER -->
                        <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
                        <!-- END QUICK SIDEBAR TOGGLER -->
                    </ul>
                </div>
                <!-- END TOP NAVIGATION MENU -->
            </div>
            <!-- END HEADER INNER -->
        </div>
        <!-- END HEADER -->
        <!-- BEGIN HEADER & CONTENT DIVIDER -->
        <div class="clearfix"> </div>
        <!-- END HEADER & CONTENT DIVIDER -->
        <!-- BEGIN CONTAINER -->
        <div class="page-container">
            <!-- BEGIN SIDEBAR -->
            {% include 'admin/sidebar.html' %}
            <!-- END SIDEBAR -->
            <!-- BEGIN CONTENT -->
            <div class="page-content-wrapper">
                <!-- BEGIN CONTENT BODY -->
                <div class="page-content">
                    <!-- BEGIN PAGE HEADER-->
                    <!-- BEGIN THEME PANEL -->

                    <!-- END THEME PANEL -->
                    <!-- BEGIN PAGE BAR -->
                    <div class="page-bar">
                        <ul class="page-breadcrumb">
                            <li>
                                <a href="/admin/">首页</a>
                                <i class="fa fa-circle"></i>
                            </li>
                            <li>
                                <a href="#">用户数据</a>
                                <i class="fa fa-circle"></i>
                            </li>
                            <li>
                                <a>玩家活跃</a>
                            </li>
                        </ul>

                    </div>
                    <!-- END PAGE BAR -->
                    <!-- BEGIN PAGE TITLE-->
                    <h3 class="page-title"> 用户数据
                        <small>玩家活跃</small>
                    </h3>
                    <!-- END PAGE TITLE-->
                    <!-- END PAGE HEADER-->
                    <!-- BEGIN DASHBOARD STATS 1-->

                    <div class="clearfix"></div>
                    <!-- END DASHBOARD STATS 1-->


                    <div class="row">
                        <div class="col-md-12 col-sm-12">
                            <div class="portlet light bordered">
                                <div class="portlet-title">
                                    <div class="caption">
                                        <i class="icon-cursor font-purple"></i>
                                        <span class="caption-subject font-purple bold uppercase">玩家留存统计</span>
                                    </div>
                                </div>
                                <div class="portlet-body" id="player_stay_stat" style="width:100%;height:600px;">

                                </div>

                            </div>
                        </div>


                    </div>
                <!-- END CONTENT BODY -->
            </div>
            <!-- END CONTENT -->

        </div>
        <!-- END CONTAINER -->
        <!-- BEGIN FOOTER -->
        <div class="page-footer">
            <div class="page-footer-inner"> 2017 &copy; Loki Dig.

            </div>
            <div class="scroll-to-top">
                <i class="icon-arrow-up"></i>
            </div>
        </div>
        <!-- END FOOTER -->

        {% include 'admin/modal_logout.html' %}
        <!--[if lt IE 9]>
<script src="../assets/global/plugins/respond.min.js"></script>
<script src="../assets/global/plugins/excanvas.min.js"></script>
<![endif]-->
        <!-- BEGIN CORE PLUGINS -->
        <script src="{% static 'admin/js/jquery.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/bootstrap.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/js.cookie.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/bootstrap-hover-dropdown.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/jquery.slimscroll.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/jquery.blockui.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/jquery.uniform.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/bootstrap-switch.min.js' %}" type="text/javascript"></script>
        <!-- END CORE PLUGINS -->
        <!-- BEGIN PAGE LEVEL PLUGINS -->
        <script src="{% static 'admin/js/moment.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/daterangepicker.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/morris.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/raphael-min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/jquery.waypoints.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/jquery.counterup.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/amcharts.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/serial.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/pie.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/radar.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/light.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/patterns.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/chalk.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/ammap.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/worldLow.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/amstock.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/fullcalendar.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/jquery.flot.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/jquery.flot.resize.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/jquery.flot.categories.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/jquery.easypiechart.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/jquery.sparkline.min.js' %}" type="text/javascript"></script>
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN THEME GLOBAL SCRIPTS -->
        <script src="{% static 'admin/js/app.min.js' %}" type="text/javascript"></script>
        <!-- END THEME GLOBAL SCRIPTS -->
        <!-- BEGIN PAGE LEVEL SCRIPTS -->
        <script src="{% static 'admin/js/dashboard.min.js' %}" type="text/javascript"></script>
        <!-- END PAGE LEVEL SCRIPTS -->
        <!-- BEGIN THEME LAYOUT SCRIPTS -->
        <script src="{% static 'admin/js/layout.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/demo.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/quick-sidebar.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/echarts.js' %}" type="text/javascript"></script>
        <script src="{% static 'admin/js/china.js' %}" type="text/javascript"></script>
        <!-- END THEME LAYOUT SCRIPTS -->

        <script type="text/javascript">



        var player_stay_stat = echarts.init(document.getElementById('player_stay_stat'))




player_stay_option = {
    title: {
        text: '玩家留存统计',
    },
    tooltip: {
        trigger: 'axis'
    },
    legend: {
        data:['次日留存','7日留存','30日留存']
    },
    toolbox: {
        show: true,
        feature: {
            dataZoom: {},
            dataView: {readOnly: false},
            magicType: {type: ['line', 'bar']},
            restore: {},
            saveAsImage: {}
        }
    },
    xAxis:  {
        type: 'category',
        boundaryGap: false,
        data: [{% for r in next_day %} '{{r.0}}'{% if not forloop.last %}, {% endif %} {% endfor %}]
    },
    yAxis: {
        type: 'value',
        axisLabel: {
            formatter: '{value}'
        }
    },
    series: [
        {
            name:'次日留存',
            type:'line',
            data:[{% for r in next_day %} {{r.1}}{% if not forloop.last %}, {% endif %} {% endfor %}],
            markPoint: {
                data: [
                    {type: 'max', name: '最大值'},
                    {type: 'min', name: '最小值'}
                ]
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ]
            }
        },
        {
            name:'7日留存',
            type:'line',
            data:[{% for r in seven_day %} {{r.1}}{% if not forloop.last %}, {% endif %} {% endfor %}],
            markPoint: {
                data: [
                    {type: 'max', name: '最大值'},
                    {type: 'min', name: '最小值'}
                ]
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ]
            }
        },
        {
            name:'30日留存',
            type:'line',
            data:[{% for r in thirdty_day %} {{r.1}}{% if not forloop.last %}, {% endif %} {% endfor %}],
            markPoint: {
                data: [
                    {type: 'max', name: '最大值'},
                    {type: 'min', name: '最小值'}
                ]
            },
            markLine: {
                data: [
                    {type: 'average', name: '平均值'}
                ]
            }
        }
    ]
};
player_stay_stat.setOption(player_stay_option);
        </script>
    </body>

</html>